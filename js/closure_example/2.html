// debounce还可能作为对象的方法进行调用

<script>
  function debounce(fn, delay) {
    var that = this; // window
    // console.log(that, '////');

    // 
    // let id = null;
    return function (args) {
      // 定时器返回ID
      // fn 自由变量
      // fn 对象 函数也是对象 是一等对象
      var that = this
      clearTimeout(fn.id)
      fn.id = setTimeout(function () {
        // this丢失问题
        fn.call(that, args);
      }, delay)
    }
  }
  // debounce 高阶函数 对函数做高阶限制

  let obj = {
    count: 0,
    inc: debounce(function (val) {
      // this 
      console.log(this, '/////');
      this.count += val;
    }, 500)
  }
  obj.inc(2);
</script>