<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>微任务</title>
</head>

<body>
  <script>
    console.log('同步');
    // 批量更新
    // dom 树,  cssom, layout 树 图层合并
    queueMicrotask(() => {
      // 让批量更新去到渲染队伍之前
      // 会在渲染之前执行，保证DOM更新，但不是渲染完了
      // 一个元素的高度  offsetHeight scrollTop getBoundingClientRect()
      // 立即重绘重排 耗性能 用来观察DOM的新的API
      console.log('微任务: queueMicrotask');

    })
    console.log("同步结束");
  </script>
</body>

</html>